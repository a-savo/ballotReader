% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_clarity_results.R
\name{read_clarity_results}
\alias{read_clarity_results}
\title{read_clarity_results}
\usage{
read_clarity_results(url, destfile, report = NULL, tidy_detail = FALSE,
  page_range = NULL)
}
\arguments{
\item{url}{The URL to a zipped report on a Clarity Elections website, or the
homepage of a Web01 Clarity site.}

\item{destfile}{A path and filename to save the .zip file to.}

\item{report}{For Web01 sites, choose "csv" for a summary report or
"xls", "xlm", or "txt" for detailed local-level election results in those
formats.}

\item{tidy_detail}{FALSE by default. Set to TRUE to generate a list of tidy dataframes
containing local-level election results using the detail.xls report available on
Clarity Elections websites. It's recommended to set the page range (see below),
as the tidying process can take a very long time for reports containing a large
number of election results.}

\item{page_range}{A numeric vector containing the range of worksheets to tidy from
the detail.xls file. This vector must only contain values greater than or equal to 3
(i.e. 3:n). You may want to run read_clarity_results once with tidy_detail = FALSE and
open detail.xls in another program in order to identify the worksheets of interest.}
}
\description{
Downloads election results using the Clarity Elections platform.
}
\details{
Automatically downloads and unzips election reports from elections websites that
use Scytl's Clarity Elections platform. Users can either provide a link directly
to the .zip file or, for Web01 Clarity sites (noted in the website URL), link
to the home page and specify the desired report. This function can also generate
a list of tidy dataframes containing local election results based on Clarity
Elections detail reports.
}
\examples{

# Web01:
url <- "http://results.enr.clarityelections.com/NJ/Gloucester/71871/191307/Web01/en/summary.html"
read_clarity_results(url, "gloucester.zip", report = "xls", tidy_detail = TRUE, page_range = 3:5)

# Web02:
url <- "http://results.enr.clarityelections.com/NJ/Essex/72004/191383/reports/detailxls.zip"
read_clarity_results(url, "essex.zip", tidy_detail = TRUE, page_range = 3:5)


}
\author{
Alyssa Savo
}
